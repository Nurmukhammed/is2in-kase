<header class="header">
    <div class="container">
        <div class="topbar">
            <div class="topbar__left">
                <a ng-href="home">
                    <img src="../images/uploads/logo-holy.svg" alt="logo">
                </a>
            </div>
            <div class="topbar__right">
                <div>
                    Система электронного документооборота с эмитентами ценных бумаг
                </div>
            </div>
        </div>
        <div class="header">
            <div>
                <ul class="nav">
                    <li>О проекте</li>
                    <li>Сроки размещения</li>
                    <li>Нормативные документы</li>
                    <li>Инсайдеры биржи</li>
                </ul>
            </div>
        </div>
    </div>
</header>

<section class="main">
    <div class="container">
        <div class="main__form">
            <div class="title title_company">
                <h1>АО "Казахстанская фондовая биржа"</h1>
            </div>
            <md-content>
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab label="Периодичная">
                        <md-content>
                            <div class="planned">
                                <div>
                                    <h2>Ожидается к рамещению</h2>
                                </div>
                                <div>
                                    <table class="table">
                                        <tbody>
                                        <tr>
                                            <th class="table__1st">Название документа</th>
                                            <th class="table__2nd">Срок предоставления</th>
                                        </tr>
                                        <tr>
                                            <td class="red">
                                                Протокол внеочередного общего собрания акционеров от 11 сентября 2018
                                                года
                                            </td>
                                            <td>02.10.2018</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </md-content>
                    </md-tab>
                    <md-tab label="От текущей деятельности">
                        <md-content>
                            <div class="unplanned">
                                <div class="common">
                                    <div>
                                        <h2>Ожидается к рамещению</h2>
                                    </div>
                                    <div class="default">
                                        <input type="text" class="input" ng-model="searchTitle" placeholder="Введите текст для поиска">
                                    </div>
                                </div>
                                <div>
                                    <table class="table">
                                        <tbody>
                                        <tr>
                                            <th class="table__1st">Название документа</th>
                                            <th class="table__2nd">Срок предоставления</th>
                                        </tr>
                                        <tr ng-repeat="docs in vm.docs | filter:searchTitle">
                                            <td class="red">
                                                {{docs.title}}
                                            </td>
                                            <td>
                                                {{docs.publishDate}}
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </md-content>
            <div class="bound">
                <div>
                    <h2>Документы по категориям</h2>
                </div>
                <div>
                    <table class="table">
                        <tbody>
                        <tr>
                            <th class="table__1st">
                                Категория
                            </th>
                            <th class="table__2nd">
                                Всего
                            </th>
                        </tr>
                        <tr ng-repeat="report in vm.report track by $index">
                            <td>
                                <a ng-bind="report.title" ng-href="/home/{{report}}"
                                   class="report__title report_text"></a>
                            </td>
                            <td>{{$index+1}}</td>
                        </tr>
                        <tr>
                            <th>Все документы</th>
                            <th>21</th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="bound main__users">
                <div>
                    <h2>Пользователи компании</h2>
                </div>
                <div>
                    <table class="table">
                        <tbody>
                        <tr>
                            <th class="table__1st">
                                Имя
                            </th>
                            <th class="table__2nd">
                                E-mail
                            </th>
                        </tr>
                        <tr>
                            <td>
                                Кобаева Айгерим
                            </td>
                            <td>k.myasnikova@life.stdi.kz</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <div class="demo">
        <!-- Nested node template -->
        <script type="text/ng-template" id="nodes_renderer.html">
            <div ui-tree-handle class="tree-node tree-node-content" >
                <a class="btn btn-success btn-xs"
                   ng-if="node.groups && node.groups.length > 0"
                   data-nodrag
                   ng-click="toggle(this)"
                >
                <span
                    class="glyphicon"
                    ng-class="{
                        'glyphicon-chevron-right': collapsed,
                        'glyphicon-chevron-down': !collapsed
                    }"
                >
                </span>
                </a>
                    {{node.title}}
                <!--<a class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="remove(this)"><span-->
                <!--class="glyphicon glyphicon-remove"></span></a>-->
                <!--<a class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="addSubItem(this)" style="margin-right: 8px;"><span-->
                <!--class="glyphicon glyphicon-plus"></span></a>-->
            </div>
            <ol ui-tree-nodes="" ng-model="node.groups" ng-class="{hidden: collapsed}">
                <li ng-repeat="node in node.groups" ui-tree-node
                    ng-include="'nodes_renderer.html'"
                    ng-href="home/{{node.id}}/{{node}}"
                    ng-click="$event.stopPropagation();">
                    {{node.title}}
                </li>
            </ol>
        </script>

        <div class="row">
            <div class="col-sm-12">
                <div>
                    <h3>Документы по категориям (пример)</h3>
                </div>
                <button ng-click="expandAll()">Смотреть все</button>
                <button ng-click="collapseAll()">Скрыть все</button>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div ui-tree id="tree-root">
                    <ol ui-tree-nodes ng-model="vm.report">
                        <li ng-repeat="node in vm.report" ui-tree-node ng-include="'nodes_renderer.html'" ></li>
                    </ol>
                </div>
            </div>
        </div>
        <!--<div class="row">-->
            <!--<button ng-click="startScanner()">Start</button>-->
        <!--</div>-->
    </div>
</div>

